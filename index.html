<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EmojiQuiz - Juego Educativo Retro</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/backgrounds.css">
    <link rel="icon" type="image/svg+xml" href="assets/images/favicon.svg">
    <!-- Font Awesome para iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
    <div class="crt-effect"></div>
    
    <div id="game-container">
        <!-- Pantalla de inicio -->
        <div id="start-screen" class="screen">
            <div class="logo-container">
                <h1 id="game-title">EMOJI<span>QUIZ</span></h1>
                <div class="tagline" id="tagline">¬°Adivina con emojis!</div>
            </div>
            <div class="menu-container">
                <button id="start-game-btn" class="main-btn">JUGAR</button>
                <button id="how-to-play-btn" class="secondary-btn">C√ìMO JUGAR</button>
                <button id="categories-btn" class="secondary-btn">CATEGOR√çAS</button>
                <button id="achievements-btn" class="secondary-btn">LOGROS</button>
                <button id="settings-btn" class="secondary-btn">AJUSTES</button>
            </div>
            <div class="footer">
                <div class="version" id="version">v1.0.0</div>
                <div class="credits" id="credits">Creado con üíñ para todos</div>
                <div class="language-selector">
                    <select id="language-selector">
                        <option value="es">Espa√±ol</option>
                        <option value="en">English</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Pantalla de juego -->
        <div id="game-screen" class="screen hidden">
            <div class="level-badge"><span id="level-label">NIVEL</span> <span id="level">1</span></div>
            
            <div class="stats-container">
                <div class="score"><span id="points-label">PUNTOS</span>: <span id="score">0</span></div>
                <div class="lives"><span id="lives-label">VIDAS</span>: <span id="lives">‚ù§Ô∏è ‚ù§Ô∏è ‚ù§Ô∏è</span></div>
            </div>
            
            <div class="category" id="category"><span id="category-label">Categor√≠a</span>: General</div>
            
            <div class="emoji-display" id="emoji-display"></div>
            
            <div class="timer-container">
                <div class="timer-bar" id="timer-bar"></div>
            </div>
            
            <div class="streak-container" id="streak-container">
                <div class="streak-emoji">üî•</div>
                <div class="streak-emoji">üî•</div>
                <div class="streak-emoji">üî•</div>
            </div>
            
            <!-- Contenedor de power-ups -->
            <div class="power-up-container">
                <div class="power-up" id="fiftyFifty-powerup" title="Elimina dos respuestas incorrectas">
                    <i class="fas fa-cut"></i>
                    <div class="power-up-count" id="fiftyFifty-count">3</div>
                </div>
                <div class="power-up" id="extraTime-powerup" title="A√±ade 10 segundos extra">
                    <i class="fas fa-clock"></i>
                    <div class="power-up-count" id="extraTime-count">2</div>
                </div>
                <div class="power-up" id="extraHint-powerup" title="Muestra un emoji adicional como pista">
                    <i class="fas fa-lightbulb"></i>
                    <div class="power-up-count" id="extraHint-count">3</div>
                </div>
            </div>
            
            <div class="options-container" id="options-container">
                <!-- Options will be inserted here dynamically -->
            </div>
            
            <div class="feedback" id="feedback"></div>
            
            <button class="next-btn" id="next-btn">SIGUIENTE</button>
            <button class="pause-btn" id="pause-btn"><i class="fas fa-pause"></i></button>
        </div>

        <!-- Pantalla de fin del juego -->
        <div id="game-over-screen" class="screen hidden">
            <div class="game-over-score" id="game-over-title">FIN DEL JUEGO</div>
            <div id="final-score-label">Tu puntuaci√≥n final:</div>
            <div class="final-score" id="final-score">0</div>
            
            <div class="stats-summary">
                <div class="stat-item">
                    <div class="stat-label" id="correct-answers-label">Respuestas correctas:</div>
                    <div class="stat-value" id="correct-answers">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label" id="wrong-answers-label">Respuestas incorrectas:</div>
                    <div class="stat-value" id="wrong-answers">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label" id="level-reached-label">Nivel alcanzado:</div>
                    <div class="stat-value" id="final-level">1</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label" id="max-streak-label">Racha m√°xima:</div>
                    <div class="stat-value" id="max-streak">0</div>
                </div>
            </div>
            
            <div class="social-share">
                <div class="social-btn twitter" onclick="game.shareScore('twitter')"><i class="fab fa-twitter"></i></div>
                <div class="social-btn facebook" onclick="game.shareScore('facebook')"><i class="fab fa-facebook-f"></i></div>
                <div class="social-btn whatsapp" onclick="game.shareScore('whatsapp')"><i class="fab fa-whatsapp"></i></div>
            </div>
            
            <button class="restart-btn" id="restart-btn">JUGAR DE NUEVO</button>
            <button class="main-menu-btn" id="main-menu-btn">MEN√ö PRINCIPAL</button>
        </div>

        <!-- Pantalla de instrucciones -->
        <div id="how-to-play-screen" class="screen hidden">
            <h2 id="how-to-play-title">C√ìMO JUGAR</h2>
            <div class="instructions">
                <p id="instruction-1">1. Se mostrar√°n varios emojis que forman un concepto, persona o idea.</p>
                <p id="instruction-2">2. Selecciona la respuesta correcta entre las opciones.</p>
                <p id="instruction-3">3. Responde antes de que se acabe el tiempo.</p>
                <p id="instruction-4">4. Consigue rachas de aciertos para multiplicar tus puntos.</p>
                <p id="instruction-5">5. Supera niveles para desbloquear nuevas categor√≠as y desaf√≠os.</p>
            </div>
            <div class="scoring-info">
                <h3 id="scoring-title">Sistema de puntuaci√≥n:</h3>
                <p id="scoring-base">‚Ä¢ Respuesta correcta: 100 puntos base</p>
                <p id="scoring-time">‚Ä¢ Bonus por tiempo: Hasta 50 puntos extra</p>
                <p id="scoring-streak">‚Ä¢ Bonus por racha: 10 puntos por cada acierto consecutivo</p>
                <p id="scoring-level">‚Ä¢ Bonus por nivel: 20 puntos √ó nivel actual</p>
            </div>
            <div class="power-ups-info">
                <h3 id="powerups-title">Power-ups:</h3>
                <div class="power-up-info-item">
                    <i class="fas fa-cut"></i> <span id="fifty-fifty-desc">50:50 - Elimina dos respuestas incorrectas</span>
                </div>
                <div class="power-up-info-item">
                    <i class="fas fa-clock"></i> <span id="extra-time-desc">Tiempo Extra - A√±ade 10 segundos al temporizador</span>
                </div>
                <div class="power-up-info-item">
                    <i class="fas fa-lightbulb"></i> <span id="extra-hint-desc">Pista Extra - Muestra un emoji adicional como pista</span>
                </div>
            </div>
            <button class="back-btn" id="back-from-howto-btn">VOLVER</button>
        </div>

        <!-- Pantalla de categor√≠as -->
        <div id="categories-screen" class="screen hidden">
            <h2 id="categories-title">CATEGOR√çAS</h2>
            <div class="categories-grid" id="categories-grid">
                <!-- Las categor√≠as se insertar√°n din√°micamente aqu√≠ -->
            </div>
            <button class="back-btn" id="back-from-categories-btn">VOLVER</button>
        </div>

        <!-- Pantalla de logros -->
        <div id="achievements-screen" class="screen hidden">
            <h2 id="achievements-title">LOGROS</h2>
            <div class="achievements-grid" id="achievements-grid">
                <!-- Los logros se insertar√°n din√°micamente aqu√≠ -->
            </div>
            <button class="back-btn" id="back-from-achievements-btn">VOLVER</button>
        </div>

        <!-- Pantalla de ajustes -->
        <div id="settings-screen" class="screen hidden">
            <h2 id="settings-title">AJUSTES</h2>
            <div class="settings-container">
                <div class="setting-item">
                    <label for="sound-toggle" id="sound-effects-label">Efectos de sonido</label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="sound-toggle" checked>
                        <span class="toggle-slider"></span>
                    </div>
                </div>
                <div class="setting-item">
                    <label for="sound-volume" id="sound-volume-label">Volumen de efectos</label>
                    <input type="range" id="sound-volume" min="0" max="100" value="70" class="volume-slider">
                </div>
                <div class="setting-item">
                    <label for="music-toggle" id="music-label">M√∫sica</label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="music-toggle" checked>
                        <span class="toggle-slider"></span>
                    </div>
                </div>
                <div class="setting-item">
                    <label for="music-volume" id="music-volume-label">Volumen de m√∫sica</label>
                    <input type="range" id="music-volume" min="0" max="100" value="40" class="volume-slider">
                </div>
                <div class="setting-item">
                    <label for="crt-effect-toggle" id="crt-effect-label">Efecto CRT</label>
                    <div class="toggle-switch">
                        <input type="checkbox" id="crt-effect-toggle" checked>
                        <span class="toggle-slider"></span>
                    </div>
                </div>
                <div class="setting-item">
                    <label for="difficulty-selector" id="difficulty-label">Dificultad</label>
                    <select id="difficulty-selector">
                        <option value="easy" id="difficulty-easy">F√°cil</option>
                        <option value="medium" selected id="difficulty-medium">Normal</option>
                        <option value="hard" id="difficulty-hard">Dif√≠cil</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label for="language-selector-settings" id="language-label">Idioma</label>
                    <select id="language-selector-settings">
                        <option value="es" id="language-spanish">Espa√±ol</option>
                        <option value="en" id="language-english">English</option>
                    </select>
                </div>
                <div class="setting-item">
                    <label for="background-selector-settings" id="background-label">Fondo Animado</label>
                    <select id="background-selector-settings">
                        <option value="neon-grid" id="background-neon">Grid Ne√≥n</option>
                        <option value="pixel-emojis" id="background-emojis">Emojis Pixel</option>
                        <option value="pixel-nebula" id="background-nebula">Nebulosa Pixel</option>
                        <option value="none" id="background-none">Sin Fondo</option>
                    </select>
                </div>
            </div>
            <button class="back-btn" id="back-from-settings-btn">GUARDAR Y VOLVER</button>
        </div>

        <!-- Modal de pausa -->
        <div id="pause-modal" class="modal hidden">
            <div class="modal-content">
                <h2 id="pause-title">JUEGO PAUSADO</h2>
                <button id="continue-btn" class="main-btn">CONTINUAR</button>
                <button id="restart-from-pause-btn" class="secondary-btn">REINICIAR</button>
                <button id="exit-to-menu-btn" class="secondary-btn">SALIR AL MEN√ö</button>
            </div>
        </div>
    </div>

    <!-- Audios -->
    <audio id="click-sound" src="assets/sounds/click.mp3" preload="auto"></audio>
    <audio id="correct-sound" src="assets/sounds/correct.mp3" preload="auto"></audio>
    <audio id="wrong-sound" src="assets/sounds/wrong.mp3" preload="auto"></audio>
    <audio id="game-over-sound" src="assets/sounds/game-over.mp3" preload="auto"></audio>
    <audio id="level-up-sound" src="assets/sounds/level-up.mp3" preload="auto"></audio>
    <audio id="countdown-sound" src="assets/sounds/countdown.mp3" preload="auto"></audio>
    <audio id="powerup-sound" src="assets/sounds/powerup.mp3" preload="auto"></audio>
    <audio id="achievement-sound" src="assets/sounds/achievement.mp3" preload="auto"></audio>
    <audio id="background-music" src="assets/sounds/background.mp3" loop preload="auto"></audio>

    <!-- Scripts -->
    <script src="js/i18n/translations.js"></script>
    <script src="js/backgrounds.js"></script>
    <script type="module">
        // Importar y exponer gameData desde data/index.js
        import gameData from './data/index.js';
        window.gameData = gameData;
    </script>
    <script src="js/audio.js"></script>
    <script src="js/game.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
